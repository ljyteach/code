<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body>
<input type="text" id="txt" />
<input type="button" id="btn" value="添加节点" />
<h3>你喜欢的水果</h3>
<ul id="list" class="list">
  <li class="fruit" id="banana">香蕉</li>
  <li class="fruit">苹果</li>
  <li class="fruit">鸭梨</li>
</ul>
<h3>元素节点数量：<span id="amount">0</span></h3>

<script type="text/javascript">
//节点的分类：元素节点 属性节点 文本节点
var oUl = document.getElementById("list");
var oTxt = document.getElementById("txt");
var oAmount = document.getElementById("amount");
var oLi = document.getElementById("banana");

//childNodes属性可以获取元素子集的文本节点和元素节点。
var oUlChildren = oUl.childNodes;
var oTxtChildren = oTxt.childNodes;

console.log(oUlChildren.length);
console.log(oUlChildren);

//在childNodes中获取元素节点
//nodeType属性 1元素节点 2属性节点 3文本节点
var childrenEle = [];
for(var i = 0; i<oUlChildren.length; i++){
	if(oUlChildren[i].nodeType == 1){
		childrenEle.push(oUlChildren[i]);
	}
}

console.log(childrenEle);

//attributes获取元素的属性节点。
var oUlAttr = oUl.attributes;
console.log(oUlAttr);
console.log(oUlAttr[0].nodeType)


//children属性可以获取元素子集的所有元素节点。
var oUlChildrenEle = oUl.children;
//HTMLCollection
console.log(oUlChildrenEle)

//首先获取文本节点，然后通过nodeValue属性设置文本节点的值。
oAmount.childNodes[0].nodeValue = oUlChildren.length;

//获取父级节点parentNode;
var parentNode = oLi.parentNode;
console.log(parentNode);


//模拟一个siblings函数
function siblings(oElement){
	var siblingsArr = [];
	var aElement = oElement.parentNode.children;
	for(var i = 0; i<aElement.length; i++){
		if(aElement[i] != oElement){
			siblingsArr.push(aElement[i]);
		}
	}
	return siblingsArr;
}
console.log(siblings(oLi));

//模拟一个addClass方法
function addClass(oElement,className){
	var newClassName = oElement.className + " " + className;
	oElement.className = newClassName;
}

function removeClass(oElement,className){
	var originalClassName = oElement.className;
	var classNameArr = originalClassName.split(" ");
	for(var i = 0; i<classNameArr.length; i++){
		if(classNameArr[i]==className){
			classNameArr[i] = "";
		}
	}
	oElement.className = classNameArr.join("");
}





</script>
</body>
</html>
