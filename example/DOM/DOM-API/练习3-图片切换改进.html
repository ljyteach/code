<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
*{margin:0;padding:0;}
#list{list-style:none;}
#list li{width:20px;height:20px; text-align:center;line-height:20px;background-color:#ff0;border:1px solid #00f;float:left;cursor:pointer;}
#list .active{background-color:#f00;}
</style>
</head>

<body>

<div id="picBox">
  <img src="images/piano.jpg" id="img" />
</div>
<ul id="list">
  <li class="num">1</li>
  <li class="num">2</li>
  <li class="num">3</li>
  <li class="num">4</li>
</ul>

<script type="text/javascript">
//首先讲解实用DOM为元素设置样式
//document.getElementById().style.color;
var oImg = document.getElementById("img");
var aLi = document.getElementsByClassName("num");
var arrPic = ["images/piano.jpg","images/moon.jpg","images/sun.jpg","images/lake.jpg"];

for(var i = 0; i<aLi.length; i++){
	aLi[i].onclick = function(i){
		return function(){
			oImg.src = arrPic[i];
			//this.style.backgroundColor = "#f00";
			addClass(this,"active");
			var siblingsArr = siblings(this);
			for(var j = 0; j<siblingsArr.length; j++){
				//siblingsArr[j].style.backgroundColor = "#ff0";
				removeClass(siblingsArr[j],"active");
			}
		}
	}(i)
}

function siblings(oElement){
	var siblingsArr = [];
	var aElement = oElement.parentNode.children;
	for(var i = 0; i<aElement.length; i++){
		if(aElement[i] != oElement){
			siblingsArr.push(aElement[i]);
		}
	}
	return siblingsArr;
}

function addClass(oElement,className){
	var newClassName = oElement.className + " " + className;
	oElement.className = newClassName;
}

function removeClass(oElement,className){
	var originalClassName = oElement.className;
	var classNameArr = originalClassName.split(" ");
	for(var i = 0; i<classNameArr.length; i++){
		if(classNameArr[i]==className){
			classNameArr[i] = "";
		}
	}
	oElement.className = classNameArr.join("");
}

</script>
</body>
</html>
