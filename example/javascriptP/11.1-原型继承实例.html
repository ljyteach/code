<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<style type="text/css">
	.li{
		list-style: none;
		background-color: #ff0;
		width:30px;
		height:30px;
		border:1px solid #00f;
		line-height: 30px;
		float: left;
		text-align: center;
		cursor: pointer;
	}
	.active{
		background-color: red;
	}
	</style>
</head>
<body>
	<ul id="list">
		<li class="li">1</li>
		<li class="li">2</li>
		<li class="li">3</li>
		<li class="li">4</li>
		<li class="li">5</li>
	</ul>
	<script type="text/javascript">
	//给DOM对象添加siblings方法，addClass方法，removeClass方法。
	var oUl = document.getElementById("list");
	var oLi = document.getElementById("one");
	HTMLElement.prototype.siblings = function(){
		var parent = this.parentNode;
		var elementArray = [];
		var sibling = parent.children;
		for(var i =0; i<sibling.length; i++){
			if(this !== sibling[i]){
				elementArray.push(sibling[i]);
			}
		}
		return elementArray;
	}
	HTMLElement.prototype.addClass = function(value){
		if (!this.className) {
			this.className = value;
		} else {
			var newClassName = this.className;
			newClassName+= " ";
			newClassName+= value;
			this.className = newClassName;
		}
	}
	HTMLElement.prototype.removeClass = function(){
		if (arguments.length == 0) {
			this.className = "";
		} else {
			//console.log(this.className);
			var classNameArray = this.className.split(" ");
			var newClassNameArray = [];
			for(var i = 0; i<classNameArray.length; i++){
				if(arguments[0] !== classNameArray[i]){
					newClassNameArray.push(classNameArray[i])
				}
			}
			this.className = newClassNameArray.join(" ")
		}
	}

	oUl.onclick = function(event){
		var target = event.target;
		if(target.className == "li"){
			target.addClass("active");
			var sibling = target.siblings();
			for(var i = 0; i<sibling.length; i++){
				sibling[i].removeClass("active");
			}
		}
	}

	</script>
</body>
</html>